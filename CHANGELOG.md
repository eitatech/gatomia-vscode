# ðŸ“¦ Changelog

---

## v0.33.0 2026-01-29

### Added

- **Automatic Document Version Tracking**: Automatic version and author tracking for SpecKit documents
  - **Auto-Initialization**: New documents automatically get VERSION "1.0" and OWNER from Git user
  - **Auto-Increment**: Documents automatically increment version on save (1.0â†’1.1â†’...â†’1.9â†’2.0)
  - **Smart Debounce**: 30-second debounce prevents version inflation during rapid saves
  - **Change Detection**: Only increments version when document body content changes (excludes frontmatter-only changes)
  - **Author Attribution**: OWNER field automatically updated with Git username and email on each version
  - **Version History**: Up to 50 version history entries per document with FIFO rotation
  - **Spec Explorer Display**: Version numbers displayed as badges in Spec Explorer tree view
  - **Reset Command**: "Reset Version to 1.0" command available in Spec Explorer context menu
  - **Structured Logging**: All version changes logged to extension output channel with timestamps
  - **Error Recovery**: Graceful handling of Git unavailable, YAML parsing failures, and workspace state errors
  - **Telemetry**: Success/failure metrics for version operations with debounce and skip tracking

### Fixed

- **MCP Configuration Path Detection**: Fixed "Open MCP Config" command to correctly detect IDE-specific configuration paths
  - **IDE-Aware Path Resolution**: Now automatically detects VS Code, VS Code Insiders, Cursor, Windsurf, Positron, VSCodium and other forks
  - **Cross-Platform Support**: Works correctly on macOS, Linux, Windows, and WSL
  - **Dynamic Detection**: Uses `vscode.env.appName` to determine correct configuration directory
  - **Backward Compatible**: Falls back to standard "Code" directory for unknown IDE forks

### Tests

- Added comprehensive test suite for document version tracking (30+ tests)
- Tests cover version increment, initialization, reset, debounce, and error recovery scenarios
- Added comprehensive test suite for platform-specific path detection (14 tests)
- Tests cover macOS, Linux, and Windows platforms
- Tests validate correct paths for VS Code, VS Code Insiders, Cursor, Windsurf, Positron, and VSCodium
- All existing tests continue passing (1566 tests)

---

## v0.32.0 2026-01-27

### Added

- **Hook Output Capture**: Hooks can now capture agent output for use in subsequent actions
  - **Agent Output Variable**: `$agentOutput` template variable provides file content generated by triggering agent
  - **Clipboard Content Variable**: `$clipboardContent` template variable provides current clipboard content
  - **Output Path Variable**: `$outputPath` template variable provides path to generated file
  - **Automatic Capture**: Output data automatically captured after agent execution completes
  - **Graceful Fallback**: Variables default to empty strings when data unavailable

- **Hook Timing Configuration**: Control when hooks execute relative to agent operations
  - **Before/After Timing**: Choose whether hooks run before or after agent completes
  - **Blocking Execution**: "Before" hooks can optionally block agent execution until hook completes
  - **UI Controls**: Dropdown for timing selection and checkbox for wait-for-completion behavior
  - **Visual Indicators**: Timing badges ("before"/"after") and blocking indicators in hooks list
  - **Backward Compatible**: Existing hooks default to "after" timing automatically

- **Enhanced Variable Picker UI**: Improved template variable selection experience
  - **Always Visible**: Variable picker no longer requires focus to display
  - **Categorized Variables**: Variables grouped by Standard, Spec, and Output Capture categories
  - **Clear Organization**: Category headers and visual hierarchy for better discoverability
  - **Persistent Selection**: Picker remains open after variable insertion for quick multi-selection
  - **Used Variable Dimming**: Selected variables show dimmed but remain clickable

### Changed

- **Hook Executor**: Updated to pass timing parameter and output data to trigger registry
- **Command Completion Detector**: Now reads file content and passes to trigger with timing information
- **Hook Manager**: Added migration logic for hooks without timing field (sets default "after")
- **Template Variable Parser**: Extended to handle new output capture variables

### Testing

- Added 8 new tests for output capture variable parsing
- Updated 5 test files for timing and output data handling
- Fixed test compatibility issues in agent discovery tests
- Improved test coverage from 99.6% to 99.8%

### Documentation

- Updated template variable constants with detailed descriptions of output variables
- Added inline documentation for timing configuration
- Updated UI component documentation for variable picker changes

### Release Info

- **Source Branch**: `011-custom-agent-hooks`
- **Release Type**: minor

---

## v0.31.0 2026-01-24

### Fixed

- audit issues in ui
- audit issues
- polished about, experience and contact section
- skills and update
- skills and update
- constitution updated
- constitution updated

### Release Info

- **Source Branch**: `develop`
- **Release Type**: minor

---


## v0.31.0 2026-01-24

### Added

- **Copilot Agents Integration**: Seamless integration with GitHub Copilot Chat for agent capabilities
  - **Agent Discovery & Registration**: Auto-discover agents from `resources/agents/` directory and register as Copilot Chat participants
  - **Tool Execution**: Execute agent-defined tools with comprehensive error handling and telemetry
  - **Resource Management**: Automatic loading and caching of agent resources (prompts, skills, instructions)
  - **Hot-Reload Support**: Configuration-driven automatic resource reloading when files change
  - **Configuration Options**: Customize resource paths, enable/disable hot-reload, and control logging levels
  - **Example Agent & Tools**: Comprehensive example implementations demonstrating agent and tool handler patterns
  - **Built-in Help System**: Automatic `/help` command for all agents with full documentation
  - **Error Handling**: Production-grade error categorization, formatting, and user-friendly messaging
  - **Test Coverage**: 100+ unit and integration tests ensuring reliability

### Documentation

- Comprehensive README for `src/features/agents/` directory with architecture overview
- Example agent definition at `resources/agents/example-agent.agent.md`
- Example tool handler implementation with usage patterns
- Complete JSDoc documentation for all public APIs
- Integration guide and troubleshooting section

### Performance

- Agent registration: <1s per agent
- Tool execution: <30s typical runtime (configurable timeouts)
- Autocomplete suggestions: <200ms latency
- Resource caching: O(1) in-memory lookups

### Configuration

New `gatomia.agents` settings:
- `resourcesPath`: Directory containing agents and resources (default: "resources")
- `enableHotReload`: Automatically reload resources on file changes (default: true)
- `logLevel`: Logging verbosity (debug, info, warn, error) (default: "info")

### Requires

- GitHub Copilot Chat extension (installed and enabled)
- VS Code 1.84.0 or later

### Release Info

- **Source Branch**: `010-copilot-agents`
- **Release Type**: minor

---

## v0.30.1 2026-01-24

### Added

- Add agents and skills paths to config tests and refactor steering explorer instruction group context values and labels.
- Implement Actions Explorer to manage various action types, replacing the Prompts Explorer, and introduce GatomIA project guidelines.

### Changed

- extract SteeringExplorerProvider child item generation into dedicated methods and remove prompts explorer test file.

### Fixed

- constitution updated

## v0.30.0 2026-01-07

### Changed

- Simplifies unit tests by removing unnecessary async logic
- Implement real MCP server discovery and UI tool selection
- add new brand logo
- Adds robust instruction rule system and streamlines Steering UI

### Release Info

- **Source Branch**: `develop`
- **Release Type**: minor

---


## v0.29.0 2026-01-05

### Added

- **Steering Instructions & Rules**: Comprehensive instruction rule management system with project and user scopes
  - **Project Instruction Rules**: Create and manage instruction rules for teams in `.github/instructions/*.instructions.md`
    - Automatic kebab-case filename normalization (e.g., "TypeScript Rules" â†’ `typescript-rules.instructions.md`)
    - Directory auto-creation when missing
    - Standard template generation with frontmatter (`description`, `applyTo`) and heading
    - No-overwrite protection with actionable error messages
    - Integrated with Steering tree view under "Project Instructions" group
  - **User Instruction Rules**: Personal instruction rules in `$HOME/.github/instructions/*.instructions.md`
    - Same normalization, template, and protection features as project rules
    - Stored outside repository for personal workflows
    - Integrated with Steering tree view under "User Instructions" group
  - **Constitution Request**: AI-assisted Constitution document generation
    - "Create Constitution" button in Steering toolbar (book icon ðŸ“–)
    - Prompts for brief description and sends `/speckit.constitution <description>` to Copilot Chat
    - Agent handles document creation with no post-processing
  - **Consolidated Tree View**: Simplified Steering explorer organization
    - "User Instructions" group combines Global Instructions and user instruction rules
    - "Project Instructions" group for project-level instruction rules
    - Removed redundant "User Instruction Rules" section
  - **Toolbar Actions**: Quick-access buttons in Steering view
    - Create Project Rule
    - Create User Rule
    - Create Constitution
    - Refresh
  - **Test Coverage**: 22 tests covering all user stories and edge cases
    - 18 tests for SteeringManager (creation, normalization, validation)
    - 4 tests for tree view provider (listing, filtering, opening)
    - 100% pass rate with TDD approach

### Changed

- **Steering View Organization**: Streamlined grouping for better user experience
  - Renamed "Project Instruction Rules" to "Project Instructions"
  - Merged "User Instructions" and "User Instruction Rules" into single expandable group
  - Always show user/project groups (welcome content no longer needed)
- **README Documentation**: Updated with comprehensive Steering section
  - Added instruction rules usage examples
  - Constitution creation workflow documented
  - Clear distinction between project and user scope

### Technical Details

- **Implementation Checklists**: All 56 validation items completed
  - Requirements checklist: 16/16 items verified
  - Implementation checklist: 40/40 items validated
- **Quality Gate**: 255 files checked with 0 violations (Biome/Ultracite)
- **Code Organization**: New utility module for instruction rules
  - `src/features/steering/instruction-rules.ts`: Shared utilities for normalization, templates, path resolution
  - `src/features/steering/steering-manager.ts`: Business logic for all creation flows
  - `src/providers/steering-explorer-provider.ts`: Tree view with consolidated groups

### Release Info

- **Source Branch**: `develop`
- **Release Type**: minor
- **Pull Request**: #18

---

## v0.28.0 2026-01-05

### Added

- **Auto Review Transition**: Automatically moves a spec to Review when all tasks and checklists are completed.
- **Spec Review Flow Commands**: New command to reopen specs from Review back to Current.
- **Command Argument Resolver**: Shared utilities to resolve spec IDs from Spec Explorer items and command arguments.

### Changed

- **Spec State Management**: Improved persistence and updates (upsert) for spec review-flow state, including pending summaries.
- **Review/Archive Workflows**: Enhanced send-to-review and send-to-archived commands with clearer blocker messages based on status and pending work.
- **Developer Tooling**: Updated lint/check configuration to ignore VS Code task configuration files.

### Fixed

- **Command Robustness**: Improved handling of Spec Explorer item arguments for archiving and send-to-review flows.
- **Test Clarity**: Updated test descriptions and added coverage for the new review-flow behaviors.

### Release Info

- **Source Branch**: `develop`
- **Release Type**: minor

---

## v0.27.1 2025-12-18

### Added

- Implement Welcome Screen with Zustand state management and VS Code integration

### Changed

- Merge pull request #13 from eitatech/welcome-screen
- Update zustand package source URL
- Merge branch 'main' into 006-welcome-screen
- eitatech/gatomia-vscode
- Removes redundant English version marker

### Fixed

- Comment out header actions in Welcome Screen for future implementation
- change docs and structure

## v0.27.0 2025-12-17

### Added

- **Welcome Screen**: Comprehensive onboarding and management interface for GatomIA extension
  - **First-Time Setup**: Interactive welcome screen appears automatically on first activation to guide users through extension setup
  - **Dependency Detection**: Real-time detection of GitHub Copilot Chat, SpecKit CLI, and OpenSpec CLI with installation guidance
  - **Configuration Management**: Inline editing of 6 key settings (spec system, paths) with validation and instant feedback
  - **Learning Resources**: Curated documentation, examples, and tutorials organized by category (Getting Started, Concepts, Advanced)
  - **Feature Discovery**: Quick-access buttons for all extension features (Spec Management, Hooks, Steering, etc.)
  - **System Health**: Real-time diagnostics with 24-hour rolling window and 5-entry limit, showing errors/warnings with suggested actions
  - **Performance**: Loads in <2 seconds, UI updates in <500ms (verified with automated tests)
  - **Accessibility**: Full ARIA labels, keyboard navigation, screen reader support
  - **Theme Support**: Automatic light/dark theme adaptation using VS Code CSS variables
  - **Error Recovery**: Comprehensive error boundary and graceful degradation for all failure modes
  - **Persistence**: "Don't show on startup" preference with workspace state tracking
  - **Test Coverage**: 1,204 automated tests (234 for welcome screen alone)

---

## v0.26.2 2025-12-15

### Added

- **Document Dependency Tracking**: Intelligent system to detect when documents need updates based on changes in their dependencies
  - Automatic dependency detection based on document type hierarchy (spec â†’ plan â†’ tasks â†’ checklist)
  - Version tracking with content hashing to detect real changes vs. progress updates
  - Structural hash for tasks/checklists that ignores checkbox state changes (detects only content modifications)
  - "Update Document" button appears automatically when dependencies change
  - Formatted prompts sent to appropriate agents with context about changed dependencies
  - Visual indicators showing which dependencies changed and when
  - Optional additional context field for user-specific update instructions
  - Persistent tracking across workspace sessions
  - 14 comprehensive unit tests ensuring reliability

**Dependency Hierarchy**:
- `spec.md` (base) â†’ no dependencies
- `plan.md` â†’ depends on `spec.md`
- `tasks.md` â†’ depends on `spec.md` + `plan.md`
- `checklist.md` â†’ depends on `tasks.md`
- `data-model.md` â†’ depends on `spec.md`
- `api.md` â†’ depends on `spec.md` + `data-model.md`
- `quickstart.md` â†’ depends on `spec.md` + `plan.md`
- `research.md` â†’ independent (supports spec but no hard dependency)

---

## v0.26.1 2025-12-15

### Fixed

- **Document Refinement**: Refinement requests now properly send feedback to the appropriate agent instead of just creating annotations
  - Refinement requests are sent to the correct SpecKit/OpenSpec agent based on document type (spec â†’ `/speckit.specify`, plan â†’ `/speckit.plan`, etc.)
  - Formatted prompts include document ID, section reference, issue type, and detailed description
  - Status messages now accurately reflect what happens ("Refinement sent to agent" instead of fictitious "queued" messages)
  - Added comprehensive logging for all refinement operations
  - Error handling with detailed feedback when agent communication fails
  - 10 new unit tests to ensure reliability

- **Task Group Navigation**: Fixed bug where clicking on phase headers (e.g., "Phase 1: Foundation & Core Types") would incorrectly trigger task execution
  - Phase headers now only expand/collapse when clicked (expected behavior)
  - Task execution only happens via the dedicated inline button (intended behavior)
  - Maintains proper separation between navigation and execution actions

---

## v0.26.0 2025-12-05

### Added

- **MCP Hooks Integration**: Complete implementation of Model Context Protocol (MCP) server integration for hooks automation
  - Browse and select MCP servers and tools configured in GitHub Copilot
  - Configure hooks to execute MCP actions automatically after agent operations
  - Visual indicators for server availability (green/red/gray badges)
  - Parameter mapping with context variables, literals, and templates
  - Automatic retry logic for transient failures (1 retry with 2s delay)
  - Large payload truncation (>1MB) with warnings
  - Graceful error handling with detailed logging
  - Pre-execution validation to prevent invalid hook execution
  - Error notifications with "Update Hook" and "Remove Hook" actions
  - Comprehensive test coverage (40 unit tests, 16 integration tests)
  - Complete documentation in README.md and quickstart guide

### Changed

- Enhanced hook validation to async for MCP server verification
- Improved error handling across all MCP services
- Updated HookManager to support MCP discovery service integration
- Optimized cache TTL to 5 minutes for MCP server discovery

### Fixed

- Server availability checks with graceful degradation
- Hook stability when MCP servers become unavailable
- Parameter validation with detailed error messages
